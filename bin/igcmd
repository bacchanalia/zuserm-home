#!/usr/bin/perl
use strict;
use warnings;

sub run(@);

my $usage = "Usage:
  $0 -h|--help
    show this message
";

sub main(@){
  while(@_ > 0 and $_[0] =~ /^-/){
    my $arg = shift;
    if($arg =~ /^(-h|--help)$/){
      print $usage;
      exit 0;
    }else{
      die $usage;
    }
  }
  die $usage;
}

sub run(@){
  print "@_\n";
  system @_;
  die "\ncmd \"@_\" failed\n" if $? != 0;
}

&main(@ARGV);
