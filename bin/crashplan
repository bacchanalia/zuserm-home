#!/usr/bin/perl
use strict;
use warnings;

my $dir = "/usr/local/crashplan";
my $guiExec = "$dir/bin/CrashPlanDesktop";

my $okCmds = join "|", qw( --gui );
my $defaultCmd = "--gui";
my $usage = "Usage: $0 [$okCmds]   {default is $defaultCmd}\n";

sub main(@){
  my $cmd = shift if @_ > 0;
  $cmd = $defaultCmd if not defined $cmd;

  die $usage if @_ > 0 or $cmd !~ /^($okCmds)$/;

  if($cmd =~ /^(--gui)$/){
    exec "CrashPlanDesktop";
  }
}

&main(@ARGV);
